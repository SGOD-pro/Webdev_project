<% include ./partials/header.ejs %>
    <script>
        window.onload = function () {
            localStorage.clear();
        }
    </script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <style>
        .swiper-slide {
            text-align: center;
            font-size: 18px;
            background: #fff;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .swiper-slide img {
            display: block;
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        .card {
            width: 100%;
            height: 100%;
            border-radius: 1rem;
            background-color: #4158D0;
            background-image: linear-gradient(43deg, #4158D0 0%, #C850C0 46%, #FFCC70 100%);
            box-shadow: rgba(0, 0, 0, 0.17) 0px -23px 25px 0px inset, rgba(0, 0, 0, 0.15) 0px -36px 30px 0px inset, rgba(0, 0, 0, 0.1) 0px -79px 40px 0px inset, rgba(0, 0, 0, 0.06) 0px 2px 1px, rgba(0, 0, 0, 0.09) 0px 4px 2px, rgba(0, 0, 0, 0.09) 0px 8px 4px, rgba(0, 0, 0, 0.09) 0px 16px 8px, rgba(0, 0, 0, 0.09) 0px 32px 16px;
            display: flex;
            align-items: center;justify-content: space-evenly;
            }
        .card p{
            font-weight: bold;
        }
     
</style>
    <link rel="stylesheet" href="/stylesheets/dashboard.css">

    <body>
        <main class="flex">
            <% include ./partials/toast.ejs %>
                <% include ./partials/userNavbar.ejs %>
                    <section class="flex">
                        <div class="right-side flex flex-col">
                            <h1> Dashboard </h1>
                            <div class="items flex gap-3">
                                <div class="item flex flex-col gap-3 p-2 px-3">
                                    <h4 class="text-basic">Appointments</h4>
                                    <p class="text-md">69</p>
                                </div>
                                <div class="item flex flex-col gap-3 p-2 px-3">
                                    <h4 class="text-basic">Canceled</h4>
                                    <p class="text-md">0</p>
                                </div>
                                <div class="item flex flex-col gap-3 p-2 px-3">
                                    <h4 class="text-basic">Success</h4>
                                    <p class="text-md">69</p>
                                </div>

                            </div>
                            <div class="swiper mySwiper">
                                <div class="swiper-wrapper">
                                    <div class="swiper-slide">
                                        <div class="card">
                                            <p>
                                            <h1>Maintain a Support Network:</h1> Stress the importance of maintaining social connections with friends, family, or support groups. Having a support network can provide comfort, advice, and perspective during difficult times.
                                            </p>
                                        </div>
                                    </div>
                                    <div class="swiper-slide">
                                        <div class="card">
                                            <p> 
                                            <h1>Prioritize Self-Care: </h1>Encourage your patients to prioritize self-care activities such as exercise, proper nutrition, adequate sleep, and relaxation techniques like meditation or deep breathing exercises.</p>
                                        </div>
                                    </div>
                                    <div class="swiper-slide">
                                        <div class="card">
                                            <p>
                                            <h1>Stick to a Routine: </h1>Establishing a daily routine can provide structure and stability, which can be especially helpful for individuals struggling with mood disorders or anxiety.
                                            </p>
                                        </div>
                                    </div>
                                    <div class="swiper-slide">
                                        <div class="card">
                                            <p>
                                            <h1>Practice Mindfulness:</h1> Encourage mindfulness practices to help patients stay present in the moment and manage stress more effectively. Techniques such as mindfulness meditation, yoga, or journaling can be beneficial.
                                            </p>
                                        </div>
                                    </div>
                                    <div class="swiper-slide">
                                        <div class="card">
                                            <p>
                                                <h1>Practice Relaxation Techniques:</h1> Teach patients relaxation techniques such as progressive muscle relaxation, guided imagery, or visualization to help reduce stress and promote relaxation.
                                            </p>
                                        </div>
                                    </div>
                                    <div class="swiper-slide">
                                        <div class="card">
                                            <p>
                                            <h1> Stay Engaged in Treatment:</h1> Stress the importance of staying engaged in their treatment plan, whether it involves therapy, medication, or both. Encourage open communication with their mental health provider and active participation in their own recovery.
                                            </p>
                                        </div>
                                    </div>
                                    <div class="swiper-slide">
                                        <div class="card">
                                            <p>
                                            <h1>Challenge Negative Thoughts: </h1> Teach patients to identify and challenge negative thought patterns or cognitive distortions. Encourage them to replace negative self-talk with more balanced and realistic thoughts.
                                            </p>
                                        </div>
                                    </div>
                                </div>
                                <div class="swiper-button-next"></div>
                                <div class="swiper-button-prev"></div>
                                <div class="swiper-pagination hidden"></div>
                            </div>


                        </div>
                        <div class="left-side">
                            <div class="box flex items-center">
                                <h1 class="text-lg"> YOUR HEALTH IS OUR<strong> PRIORITY </strong></h1>

                            </div>

                            <div class="top-appointment">
                                <h1 class="text-lg"> Recent Appointments</h1>
                                <div class="table-div">
                                    <% if (lastAppointments.length>0) {%>


                                        <table class="table table-dark">
                                            <thead>
                                                <tr>
                                                    <th scope="col">#</th>
                                                    <th scope="col">Name</th>
                                                    <th scope="col">Doctor</th>
                                                    <th scope="col">Status</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <% lastAppointments.forEach((element,index)=> { %>
                                                    <tr>
                                                        <th scope="row">
                                                            <%=index+1 %>
                                                        </th>
                                                        <td>
                                                            <%=element.user.fullname %>
                                                        </td>
                                                        <td>
                                                            <%=element.doctor.name %>
                                                        </td>
                                                        <td>
                                                            <%=element.status %>
                                                        </td>
                                                    </tr>
                                                    <% }); %>


                                            </tbody>
                                        </table>
                                        <% }else{%>
                                            <h3 class="text-md opacity-6 mt-4">Nothing to show</h3>
                                            <a href="/users/therapist" style="text-decoration: underline; " class="link-offset-2">Consult Therapist</a>
                                            <% } %>
                                </div>
                            </div>
                        </div>
                    </section>
        </main>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
        <script>
            var swiper = new Swiper(".mySwiper", {
                spaceBetween: 30,
                centeredSlides: true,
                autoplay: {
                    delay: 2500,
                    disableOnInteraction: false,
                },
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
            });

        </script>
        <script>
            window.onload = function () {
                localStorage.clear()
            }
        </script>
        <% include ./partials/footer.ejs %>